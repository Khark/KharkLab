<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- <mapper namespace="com.studio7707.mapper.LoginMapper"> -->
<mapper namespace="com.studio7707.mapper.BoardMapper">
	<select id="listAll" resultType ="com.studio7707.VO.BoardVO">
		SELECT *
		FROM SPRING_BOARD
		ORDER BY bno desc
	</select>

	<insert id="insert">
		INSERT INTO SPRING_BOARD
		(bno, title, content, writer )
		VALUES (
		(SELECT NVL(MAX(bno) + 1 , 1) FROM SPRING_BOARD ),
		<!-- sqeuence로 대채할 것 -->
		#{title}, #{content}, #{writer}
		)

	</insert>

	<!-- <select id="view" resultType ="com.studio7707.domain.BoardVO"> -->
	<select id="view" resultType ="com.studio7707.VO.BoardVO">
		SELECT * FROM SPRING_BOARD WHERE bno = #{bno}
	</select>

	<update id="increaseViewcnt">
		UPDATE SPRING_BOARD SET viewcnt = viewcnt + 1
		WHERE
		bno = #{bno}
	</update>
<!-- 
	<update id="updateArticle">
		UPDATE SPRING_BOARD SET title = #{title},
		content =
		#{content}, writer = #{writer}
		WHERE bno = #{bno}
	</update>
 -->
	<delete id="deleteArticle">
		DELETE FROM SPRING_BOARD
		WHERE bno = #{bno}
	</delete>

</mapper>

